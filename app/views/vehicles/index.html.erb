<%= render('search_filters') %>
<div class="vehicles-index-wrapper">
  <div class="cards-wrapper w-50 p-3">
    <% @vehicles.each do |vehicle| %>
      <%= link_to vehicle_path(vehicle), class: 'text-decoration-none' do %>
        <div class="vehicle-index-card mb-3 w-100">
          <%= cl_image_tag vehicle.photo, height: 300 %>
          <div class="vehicle-index-card-content d-flex flex-column p-3">
            <p class="vehicle-index-card-title mb-2"><%= vehicle.name %></p>
            <p class="vehicle-index-card-subheading"><%= vehicle.berths %> berth <%= vehicle.category %></p>
            <p class="vehicle-index-card-text flex-grow-1"><%= vehicle.description[0..140] %></p>
            <p class="vehicle-index-card-address mb-0"><i class="fas fa-map-marker-alt"></i> <%= vehicle[:distance] ? vehicle[:distance].round : 0 %> miles away</p>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="map-wrapper">
    <div
      id="map"
      style="width: 100%;
      height: 100%;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>


